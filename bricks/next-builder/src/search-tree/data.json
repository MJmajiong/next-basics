{
  "routes": [
    {
      "alias": "欢迎页",
      "exact": true,
      "hybrid": false,
      "path": "${APP.homepage}",
      "public": false,
      "type": "bricks",
      "bricks": [
        {
          "alias": "micro-view",
          "brick": "basic-bricks.micro-view",
          "injectDeep": true,
          "portal": false,
          "properties": {
            "pageTitle": "欢迎页"
          },
          "slots": {
            "content": {
              "type": "bricks",
              "bricks": [
                {
                  "alias": "欢迎语",
                  "brick": "presentational-bricks.brick-result",
                  "injectDeep": true,
                  "portal": false,
                  "properties": {
                    "customTitle": "欢迎进入我的第一个微应用",
                    "status": "empty"
                  }
                },
                {
                  "brick": "basic-bricks.grid-layout",
                  "injectDeep": true,
                  "portal": false,
                  "properties": {
                    "columns": 3
                  },
                  "slots": {
                    "items": {
                      "type": "bricks",
                      "bricks": [
                        {
                          "brick": "basic-bricks.grid-layout",
                          "injectDeep": true,
                          "portal": false
                        },
                        {
                          "bg": false,
                          "brick": "basic-bricks.grid-layout",
                          "injectDeep": true,
                          "portal": false,
                          "slots": {
                            "items": {
                              "type": "bricks",
                              "bricks": [
                                {
                                  "brick": "basic-bricks.general-button",
                                  "injectDeep": true,
                                  "portal": false,
                                  "properties": {
                                    "buttonName": "进入我的微应用",
                                    "buttonIcon": {
                                      "color": "blue"
                                    },
                                    "buttonUrl": "${APP.homepage}/user-list2",
                                    "buttonType": "primary",
                                    "buttonProps": {
                                      "style": {
                                        "width": "100%"
                                      }
                                    }
                                  }
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "brick": "presentational-bricks.time-line",
                  "injectDeep": true,
                  "portal": false
                },
                {
                  "brick": "itsc-ticket-center.time-line",
                  "injectDeep": true,
                  "portal": false
                },
                {
                  "brick": "forms.icon-select",
                  "injectDeep": true,
                  "portal": false
                },
                {
                  "brick": "k8s.cloud-provider-icon",
                  "injectDeep": true,
                  "portal": false
                },
                {
                  "brick": "cmdb-object.model-icon-combination-modal",
                  "injectDeep": true,
                  "portal": false
                }
              ]
            }
          }
        }
      ]
    },
    {
      "alias": "用户列表",
      "context": [
        {
          "name": "userList",
          "resolve": {
            "args": [
              {
                "fields": {
                  "ctime": true,
                  "name": true,
                  "nickname": true,
                  "state": true,
                  "user_email": true,
                  "user_tel": true
                },
                "sort": {
                  "ctime": 1
                }
              }
            ],
            "useProvider": "providers-of-user-service.user-admin-api-search-all-users-info"
          }
        }
      ],
      "exact": true,
      "hybrid": false,
      "path": "${APP.homepage}/user-list",
      "public": false,
      "type": "bricks",
      "bricks": [
        {
          "alias": "micro-view",
          "brick": "basic-bricks.micro-view",
          "injectDeep": true,
          "portal": false,
          "properties": {
            "pageTitle": "用户列表"
          },
          "slots": {
            "content": {
              "type": "bricks",
              "bricks": [
                {
                  "brick": "container-brick.search-bar",
                  "injectDeep": true,
                  "portal": false,
                  "slots": {
                    "start": {
                      "type": "bricks",
                      "bricks": [
                        {
                          "brick": "presentational-bricks.brick-general-search",
                          "events": {
                            "filter.update": [
                              {
                                "action": "console.log",
                                "args": ["<% EVENT.detail %>"]
                              },
                              {
                                "useProvider": "providers-of-user-service.user-admin-api-search-all-users-info",
                                "args": [
                                  {
                                    "fields": {
                                      "ctime": true,
                                      "name": true,
                                      "nickname": true,
                                      "state": true,
                                      "user_email": true,
                                      "user_tel": true
                                    },
                                    "sort": {
                                      "ctime": 1
                                    },
                                    "query": {
                                      "name": {
                                        "$like": "<% '%' + EVENT.detail.query + '%' %>"
                                      }
                                    }
                                  }
                                ],
                                "method": "resolve",
                                "callback": {
                                  "success": {
                                    "target": "#user-table",
                                    "properties": {
                                      "dataSource": "<% EVENT.detail %>"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          "injectDeep": true,
                          "portal": false,
                          "properties": {
                            "placeholder": "请输入ID",
                            "shouldUpdateUrlParams": false,
                            "shouldTrimQuery": true
                          }
                        },
                        {
                          "brick": "forms.general-select",
                          "events": {
                            "general.select.change": [
                              {
                                "action": "console.log",
                                "args": ["<% EVENT.detail %>"]
                              },
                              {
                                "useProvider": "providers-of-user-service.user-admin-api-search-all-users-info",
                                "args": [
                                  {
                                    "fields": {
                                      "ctime": true,
                                      "name": true,
                                      "nickname": true,
                                      "state": true,
                                      "user_email": true,
                                      "user_tel": true
                                    },
                                    "sort": {
                                      "ctime": 1
                                    },
                                    "query": {
                                      "state": "<% EVENT.detail %>"
                                    }
                                  }
                                ],
                                "method": "resolve",
                                "callback": {
                                  "success": {
                                    "target": "#user-table",
                                    "properties": {
                                      "dataSource": "<% EVENT.detail %>"
                                    }
                                  }
                                }
                              }
                            ]
                          },
                          "injectDeep": true,
                          "portal": false,
                          "properties": {
                            "name": "\bstate",
                            "options": [
                              {
                                "label": "invalid",
                                "value": "invalid"
                              },
                              {
                                "label": "valid",
                                "value": "valid"
                              }
                            ],
                            "placeholder": "请选择状态"
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "brick": "presentational-bricks.brick-table",
                  "injectDeep": true,
                  "portal": false,
                  "properties": {
                    "id": "user-table",
                    "columns": [
                      {
                        "dataIndex": "name",
                        "key": "name",
                        "title": "ID"
                      },
                      {
                        "dataIndex": "nickname",
                        "key": "nickname",
                        "title": "昵称"
                      },
                      {
                        "dataIndex": "user_tel",
                        "key": "user_tel",
                        "title": "电话"
                      },
                      {
                        "dataIndex": "user_email",
                        "key": "user_email",
                        "title": "邮件"
                      },
                      {
                        "dataIndex": "ctime",
                        "key": "ctime",
                        "title": "创建时间"
                      },
                      {
                        "dataIndex": "state",
                        "key": "state",
                        "title": "状态",
                        "useBrick": {
                          "brick": "presentational-bricks.brick-value-mapping",
                          "properties": {
                            "mapping": {
                              "有效": {
                                "color": "red"
                              },
                              "无效": {
                                "color": "green"
                              }
                            }
                          },
                          "transform": {
                            "value": "<% DATA.cellData == 'valid' ? '有效' : '无效' %>"
                          }
                        }
                      }
                    ],
                    "dataSource": "<% CTX.userList %>",
                    "shouldUpdateUrlParams": false
                  }
                },
                {
                  "brick": "basic-bricks.grid-layout",
                  "injectDeep": true,
                  "portal": false
                }
              ]
            }
          }
        }
      ]
    },
    {
      "alias": "用户列表2",
      "exact": true,
      "hybrid": false,
      "path": "${APP.homepage}/user-list2",
      "public": false,
      "type": "bricks",
      "bricks": [
        {
          "alias": "micro-view",
          "brick": "basic-bricks.micro-view",
          "injectDeep": true,
          "portal": false,
          "properties": {
            "pageTitle": "用户列表2"
          },
          "slots": {
            "toolbar": {
              "type": "bricks",
              "bricks": [
                {
                  "brick": "forms.general-modal",
                  "injectDeep": true,
                  "portal": false,
                  "properties": {
                    "modalTitle": "添加用户",
                    "btnText": "添加用户2",
                    "name": "modal-form-1",
                    "brick": "div",
                    "slots": {
                      "": {
                        "bricks": [
                          {
                            "brick": "basic-bricks.general-button",
                            "events": {
                              "general.button.click": {
                                "method": "open",
                                "target": "#modal-form-1"
                              }
                            },
                            "properties": {
                              "buttonIcon": "edit",
                              "buttonName": "编辑"
                            }
                          },
                          {
                            "brick": "forms.general-modal",
                            "properties": {
                              "id": "modal-form-1",
                              "modalTitle": "编辑信息"
                            },
                            "slots": {
                              "content": {
                                "bricks": [
                                  {
                                    "brick": "forms.general-form",
                                    "events": {
                                      "validate.error": {
                                        "action": "console.warn",
                                        "args": [
                                          "${EVENT.type}",
                                          "${EVENT.detail}"
                                        ]
                                      },
                                      "validate.success": [
                                        {
                                          "action": "console.log",
                                          "args": [
                                            "${EVENT.type}",
                                            "${EVENT.detail}"
                                          ]
                                        },
                                        {
                                          "method": "close",
                                          "target": "forms\\.general-modal"
                                        }
                                      ]
                                    },
                                    "properties": {
                                      "values": {
                                        "level": "high"
                                      }
                                    },
                                    "slots": {
                                      "items": {
                                        "bricks": [
                                          {
                                            "brick": "forms.general-input",
                                            "properties": {
                                              "label": "年龄",
                                              "name": "age",
                                              "placeholder": "请输入年龄",
                                              "required": true
                                            }
                                          },
                                          {
                                            "brick": "forms.general-input",
                                            "properties": {
                                              "label": "级别",
                                              "name": "level"
                                            }
                                          }
                                        ],
                                        "type": "bricks"
                                      }
                                    }
                                  }
                                ],
                                "type": "bricks"
                              }
                            }
                          }
                        ],
                        "type": "bricks"
                      }
                    }
                  }
                },
                {
                  "brick": "basic-bricks.general-button",
                  "events": {
                    "general.button.click": {
                      "method": "open",
                      "target": "#modal"
                    }
                  },
                  "injectDeep": true,
                  "portal": false,
                  "properties": {
                    "buttonName": "添加用户",
                    "buttonIcon": {
                      "lib": "easyops",
                      "category": "assets-inventory",
                      "icon": "xin",
                      "color": "blue"
                    },
                    "target": ""
                  }
                }
              ]
            },
            "content": {
              "type": "bricks",
              "bricks": [
                {
                  "brick": "container-brick.search-bar",
                  "injectDeep": true,
                  "portal": false,
                  "slots": {
                    "start": {
                      "type": "bricks",
                      "bricks": [
                        {
                          "brick": "forms.general-form",
                          "events": {
                            "validate.success": [
                              {
                                "action": "console.log",
                                "args": ["${EVENT.detail}"]
                              },
                              {
                                "useProvider": "providers-of-user-service.user-admin-api-search-all-users-info",
                                "args": [
                                  {
                                    "fields": {
                                      "ctime": true,
                                      "name": true,
                                      "nickname": true,
                                      "state": true,
                                      "user_email": true,
                                      "user_tel": true
                                    },
                                    "sort": {
                                      "ctime": 1
                                    },
                                    "query": {
                                      "name": {
                                        "$like": "<% '%' + EVENT.detail.name + '%' %>"
                                      },
                                      "state": "<% EVENT.detail.state %>"
                                    }
                                  }
                                ],
                                "method": "resolve",
                                "callback": {
                                  "success": {
                                    "target": "#user-table",
                                    "properties": {
                                      "dataSource": "<% EVENT.detail %>"
                                    }
                                  }
                                }
                              }
                            ],
                            "validate.error": [
                              {
                                "action": "console.log",
                                "args": ["${EVENT.detail}"]
                              }
                            ]
                          },
                          "injectDeep": true,
                          "portal": false,
                          "properties": {
                            "layout": "inline"
                          },
                          "slots": {
                            "items": {
                              "type": "bricks",
                              "bricks": [
                                {
                                  "brick": "forms.general-select",
                                  "injectDeep": true,
                                  "portal": false,
                                  "properties": {
                                    "id": "userState",
                                    "name": "state",
                                    "label": "状态",
                                    "placeholder": "请选择状态",
                                    "options": [
                                      {
                                        "label": "在线",
                                        "value": "valid"
                                      },
                                      {
                                        "label": "离线",
                                        "value": "invalid"
                                      }
                                    ],
                                    "inputBoxStyle": {
                                      "width": 200
                                    }
                                  }
                                },
                                {
                                  "brick": "forms.general-input",
                                  "injectDeep": true,
                                  "portal": false,
                                  "properties": {
                                    "id": "projectid",
                                    "name": "name",
                                    "label": "名字",
                                    "placeholder": "请输入用户名字",
                                    "required": false,
                                    "inputBoxStyle": {
                                      "width": 200
                                    }
                                  }
                                },
                                {
                                  "brick": "forms.general-buttons",
                                  "injectDeep": true,
                                  "portal": false,
                                  "properties": {
                                    "submitText": "查询"
                                  }
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "brick": "presentational-bricks.brick-table",
                  "injectDeep": true,
                  "portal": false,
                  "properties": {
                    "id": "user-table",
                    "columns": [
                      {
                        "dataIndex": "name",
                        "key": "name",
                        "title": "ID"
                      },
                      {
                        "dataIndex": "nickname",
                        "key": "nickname",
                        "title": "昵称"
                      },
                      {
                        "dataIndex": "user_tel",
                        "key": "user_tel",
                        "title": "电话"
                      },
                      {
                        "dataIndex": "user_email",
                        "key": "user_email",
                        "title": "邮件"
                      },
                      {
                        "dataIndex": "ctime",
                        "key": "ctime",
                        "title": "创建时间"
                      },
                      {
                        "dataIndex": "state",
                        "key": "state",
                        "title": "状态",
                        "useChildren": "[state]"
                      }
                    ],
                    "dataSource": "<% CTX.userList %>",
                    "shouldUpdateUrlParams": false
                  },
                  "slots": {
                    "content2": {
                      "type": "bricks",
                      "bricks": [
                        {
                          "alias": "input",
                          "bg": false,
                          "brick": "forms.general-input",
                          "injectDeep": true,
                          "portal": false,
                          "properties": {
                            "name": "useChildrenTestInput"
                          }
                        }
                      ]
                    },
                    "state": {
                      "type": "bricks",
                      "bricks": [
                        {
                          "alias": "stateMapping",
                          "bg": false,
                          "brick": "presentational-bricks.brick-value-mapping",
                          "injectDeep": true,
                          "portal": false,
                          "properties": {
                            "dataSource": "<% DATA.cellData %>",
                            "fields": "state",
                            "mapping": {
                              "有效": {
                                "color": "red"
                              },
                              "无效": {
                                "color": "green"
                              }
                            },
                            "transform": {
                              "value": "<% DATA.cellData == 'valid' ? '有效' : '无效' %>"
                            }
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "brick": "basic-bricks.general-modal",
                  "events": {
                    "basic-bricks.general-modal.cancel": {
                      "action": "console.log"
                    },
                    "basic-bricks.general-modal.confirm": {
                      "action": "console.log"
                    },
                    "modal.close": {
                      "action": "console.log"
                    },
                    "modal.open": {
                      "action": "console.log"
                    }
                  },
                  "injectDeep": true,
                  "portal": false,
                  "properties": {
                    "id": "modal",
                    "modalTitle": "添加用户",
                    "titleAlign": "center",
                    "width": 500
                  },
                  "slots": {
                    "content": {
                      "type": "bricks",
                      "bricks": [
                        {
                          "brick": "forms.general-form",
                          "injectDeep": true,
                          "portal": false,
                          "slots": {
                            "items": {
                              "type": "bricks",
                              "bricks": [
                                {
                                  "brick": "forms.general-input",
                                  "injectDeep": true,
                                  "portal": false,
                                  "properties": {
                                    "name": "nickname",
                                    "label": "昵称",
                                    "placeholder": "请输入昵称",
                                    "required": true,
                                    "message": "请输入昵称",
                                    "minLength": 0,
                                    "maxLength": 10
                                  }
                                },
                                {
                                  "brick": "forms.general-input",
                                  "injectDeep": true,
                                  "portal": false,
                                  "properties": {
                                    "name": "phone",
                                    "label": "电话",
                                    "placeholder": "请输入联系电话",
                                    "required": true,
                                    "message": "请输入练习电话"
                                  }
                                },
                                {
                                  "brick": "forms.general-input",
                                  "injectDeep": true,
                                  "portal": false,
                                  "properties": {
                                    "name": "email",
                                    "label": "邮件",
                                    "placeholder": "请输入邮件",
                                    "required": true,
                                    "message": "请输入邮件"
                                  }
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    },
    {
      "alias": "childrentest",
      "exact": true,
      "hybrid": false,
      "path": "${APP.homepage}/childrentest",
      "public": false,
      "type": "bricks",
      "bricks": [
        {
          "alias": "micro-view",
          "brick": "basic-bricks.micro-view",
          "injectDeep": true,
          "portal": false,
          "properties": {
            "pageTitle": "childrentest"
          },
          "slots": {
            "content": {
              "type": "bricks",
              "bricks": [
                {
                  "brick": "basic-bricks.easy-view",
                  "injectDeep": true,
                  "portal": false,
                  "slots": {
                    "content1": {
                      "type": "bricks",
                      "bricks": [
                        {
                          "alias": "select",
                          "bg": false,
                          "brick": "forms.general-select",
                          "injectDeep": true,
                          "portal": false
                        }
                      ]
                    }
                  }
                }
              ]
            }
          }
        }
      ]
    }
  ],
  "meta": {
    "customTemplates": [],
    "menus": [],
    "i18n": {
      "en": {},
      "zh": {}
    }
  },
  "dependsAll": false
}
